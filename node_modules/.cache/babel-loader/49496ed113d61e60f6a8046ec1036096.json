{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\carwash_webApp-main\\\\frontend\\\\src\\\\components\\\\bookAppoint.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./nav\";\nimport { Appcontext } from \"./context\";\nimport \"../css/home.css\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nfunction BookAppointment() {\n  _s();\n\n  const {\n    allAppointments,\n    setAllAppointments,\n    api\n  } = React.useContext(Appcontext);\n  let token = window.localStorage.getItem(\"auth\"); //    creating  axios instance\n\n  const instance = axios.create({\n    baseURL: api,\n    headers: {\n      \"auth-token\": token\n    }\n  }); // get all users booked appointments\n\n  async function userAppointments() {\n    try {\n      const response = await instance.get(api + \"/appointment\");\n      setAllAppointments(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  React.useEffect(() => {\n    userAppointments(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // delete an appointment\n\n  async function deleteAppointment(items) {\n    try {\n      await instance.put(api + \"/cancelAppointment\", {\n        _id: items._id\n      });\n      userAppointments();\n      toast.success('Your Appointment Cancelled Successfully', {\n        position: \"top-center\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bookdiv1\",\n        children: allAppointments && allAppointments.length !== 0 ? allAppointments.map(items => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bk2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bookAppointTitle\",\n                children: \"APPOINTMENT DETAILS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bk3\",\n                children: [\"Name : \", items.clientName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bk3\",\n                children: [\"Date : \", items.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bk3\",\n                children: [\"Time : \", items.time]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bk3\",\n                children: [\"Service-Type : \", items.serviceType]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bk3\",\n                children: [\"Phone : \", items.clientPhone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"bk3\",\n                children: [\"E-mailId : \", items.clientEmail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bookBtn2\",\n                onClick: () => {\n                  deleteAppointment(items);\n                },\n                children: \"Cancel Appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                marginTop: \"30px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this)]\n          }, items._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"center\",\n              marginTop: \"40px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                color: \"rgb(212, 211, 211)\",\n                fontFamily: \"'Oswald', sans-serif\",\n                fontSize: \"4rem\"\n              },\n              children: \"NO APPOINTMENTS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(BookAppointment, \"t2OvKTOrzvNmNKAxO7y2aL0nRU4=\");\n\n_c = BookAppointment;\nexport default BookAppointment;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookAppointment\");","map":{"version":3,"sources":["C:/Users/Dell/Downloads/carwash_webApp-main/frontend/src/components/bookAppoint.js"],"names":["React","axios","Nav","Appcontext","toast","configure","BookAppointment","allAppointments","setAllAppointments","api","useContext","token","window","localStorage","getItem","instance","create","baseURL","headers","userAppointments","response","get","data","error","console","log","useEffect","deleteAppointment","items","put","_id","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","length","map","clientName","date","time","serviceType","clientPhone","clientEmail","marginTop","textAlign","color","fontFamily","fontSize"],"mappings":";;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,OAAO,iBAAP;AACA,SAAUC,KAAV,QAAuB,gBAAvB;AACA,OAAO,uCAAP;;;AAEAA,KAAK,CAACC,SAAN;;AACA,SAASC,eAAT,GAA0B;AAAA;;AACtB,QAAM;AAACC,IAAAA,eAAD;AAAmBC,IAAAA,kBAAnB;AAAwCC,IAAAA;AAAxC,MAA+CT,KAAK,CAACU,UAAN,CAAiBP,UAAjB,CAArD;AACA,MAAIQ,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAZ,CAFsB,CAI1B;;AACI,QAAMC,QAAQ,GAAGd,KAAK,CAACe,MAAN,CAAa;AAC1BC,IAAAA,OAAO,EAAER,GADiB;AAE1BS,IAAAA,OAAO,EAAC;AACJ,oBAAeP;AADX;AAFkB,GAAb,CAAjB,CALsB,CAYtB;;AACA,iBAAeQ,gBAAf,GAAiC;AAC7B,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAML,QAAQ,CAACM,GAAT,CAAaZ,GAAG,GAAE,cAAlB,CAAvB;AACAD,MAAAA,kBAAkB,CAACY,QAAQ,CAACE,IAAV,CAAlB;AAEH,KAJD,CAIC,OAAMC,KAAN,EAAY;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ;;AAEDvB,EAAAA,KAAK,CAAC0B,SAAN,CAAgB,MAAI;AAChBP,IAAAA,gBAAgB,GADA,CAEhB;AACH,GAHD,EAGE,EAHF,EAvBsB,CA4BtB;;AACA,iBAAeQ,iBAAf,CAAiCC,KAAjC,EAAuC;AACnC,QAAG;AACE,YAAMb,QAAQ,CAACc,GAAT,CAAapB,GAAG,GAAG,oBAAnB,EAAwC;AAC3CqB,QAAAA,GAAG,EAACF,KAAK,CAACE;AADiC,OAAxC,CAAN;AAGDX,MAAAA,gBAAgB;AAChBf,MAAAA,KAAK,CAAC2B,OAAN,CAAc,yCAAd,EAAyD;AACrDC,QAAAA,QAAQ,EAAE,YAD2C;AAErDC,QAAAA,SAAS,EAAE,IAF0C;AAGrDC,QAAAA,eAAe,EAAE,KAHoC;AAIrDC,QAAAA,YAAY,EAAE,IAJuC;AAKrDC,QAAAA,YAAY,EAAE,IALuC;AAMrDC,QAAAA,SAAS,EAAE,IAN0C;AAOrDC,QAAAA,QAAQ,EAAEC;AAP2C,OAAzD;AASH,KAdD,CAcC,OAAMhB,KAAN,EAAY;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ;;AAED,sBACI;AAAA,4BACA,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,YADA,eAEA;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,kBAEQhB,eAAe,IAAIA,eAAe,CAACiC,MAAhB,KAA0B,CAA7C,GAAiDjC,eAAe,CAACkC,GAAhB,CAAqBb,KAAD,IAAS;AAC1E,8BACI;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACI;AAAA,qCACI;AAAG,gBAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAC,KAAb;AAAA,sCAA2BA,KAAK,CAACc,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAG,gBAAA,SAAS,EAAC,KAAb;AAAA,sCAA2Bd,KAAK,CAACe,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAG,gBAAA,SAAS,EAAC,KAAb;AAAA,sCAA2Bf,KAAK,CAACgB,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,eAII;AAAG,gBAAA,SAAS,EAAC,KAAb;AAAA,8CAAmChB,KAAK,CAACiB,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,eAKI;AAAG,gBAAA,SAAS,EAAC,KAAb;AAAA,uCAA4BjB,KAAK,CAACkB,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,eAMI;AAAG,gBAAA,SAAS,EAAC,KAAb;AAAA,0CAA+BlB,KAAK,CAACmB,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA,sBANJ,eAOI;AAAQ,gBAAA,SAAS,EAAC,UAAlB;AAA6B,gBAAA,OAAO,EAAE,MAAI;AAACpB,kBAAAA,iBAAiB,CAACC,KAAD,CAAjB;AAAyB,iBAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAaI;AAAI,cAAA,KAAK,EAAE;AAACoB,gBAAAA,SAAS,EAAC;AAAX;AAAX;AAAA;AAAA;AAAA;AAAA,oBAbJ;AAAA,aAA0BpB,KAAK,CAACE,GAAhC;AAAA;AAAA;AAAA;AAAA,kBADJ;AAiBH,SAlBgD,CAAjD,gBAmBA;AAAA,iCACI;AAAK,YAAA,KAAK,EAAE;AAACmB,cAAAA,SAAS,EAAC,QAAX;AAAsBD,cAAAA,SAAS,EAAE;AAAjC,aAAZ;AAAA,mCACI;AAAI,cAAA,KAAK,EAAE;AAACE,gBAAAA,KAAK,EAAC,oBAAP;AAA8BC,gBAAAA,UAAU,EAAC,sBAAzC;AAAkEC,gBAAAA,QAAQ,EAAC;AAA3E,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AArBR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFA;AAAA,kBADJ;AAoCH;;GArFQ9C,e;;KAAAA,e;AAsFT,eAAeA,eAAf","sourcesContent":["\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Nav from \"./nav\";\r\nimport { Appcontext } from \"./context\";\r\nimport \"../css/home.css\";\r\nimport {  toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\ntoast.configure()\r\nfunction BookAppointment(){\r\n    const {allAppointments , setAllAppointments , api} = React.useContext(Appcontext)\r\n    let token = window.localStorage.getItem(\"auth\")\r\n   \r\n//    creating  axios instance\r\n    const instance = axios.create({\r\n        baseURL: api , \r\n        headers:{\r\n            \"auth-token\" : token\r\n        },\r\n    })\r\n\r\n    // get all users booked appointments\r\n    async function userAppointments(){\r\n        try{\r\n            const response = await instance.get(api+ \"/appointment\")\r\n            setAllAppointments(response.data)\r\n           \r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        userAppointments()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n\r\n    // delete an appointment\r\n    async function deleteAppointment(items){\r\n        try{\r\n             await instance.put(api + \"/cancelAppointment\",{\r\n                _id:items._id\r\n            })\r\n            userAppointments()\r\n            toast.success('Your Appointment Cancelled Successfully', {\r\n                position: \"top-center\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Nav/>\r\n        <div>\r\n            <div className=\"bookdiv1\">\r\n                {\r\n                    allAppointments && allAppointments.length !==0 ? allAppointments.map((items)=>{\r\n                        return(\r\n                            <div className=\"bk2\" key={items._id}>\r\n                                <div>\r\n                                    <p className=\"bookAppointTitle\">APPOINTMENT DETAILS</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"bk3\">Name : {items.clientName}</p>\r\n                                    <p className=\"bk3\">Date : {items.date}</p>\r\n                                    <p className=\"bk3\">Time : {items.time}</p>\r\n                                    <p className=\"bk3\">Service-Type : {items.serviceType}</p>\r\n                                    <p className=\"bk3\">Phone : {items.clientPhone}</p>\r\n                                    <p className=\"bk3\">E-mailId : {items.clientEmail}</p>\r\n                                    <button className=\"bookBtn2\" onClick={()=>{deleteAppointment(items)}}>Cancel Appointment</button>\r\n                                </div>\r\n                                <hr style={{marginTop:\"30px\"}}/>\r\n                            </div>\r\n                        )\r\n                    }):\r\n                    <div>\r\n                        <div style={{textAlign:\"center\" , marginTop: \"40px\"}}>\r\n                            <h2 style={{color:\"rgb(212, 211, 211)\" , fontFamily:\"'Oswald', sans-serif\" , fontSize:\"4rem\"}}>NO APPOINTMENTS</h2>\r\n                        </div>\r\n                    </div>\r\n                }\r\n               \r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default BookAppointment;"]},"metadata":{},"sourceType":"module"}