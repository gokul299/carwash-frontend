{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\carwash_webApp-main\\\\frontend\\\\src\\\\components\\\\appointmentForm.js\",\n    _s = $RefreshSig$();\n\nimport { Appcontext } from \"./context\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport \"../css/home.css\";\nimport Nav from \"./nav\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { DatePickerComponent } from \"@syncfusion/ej2-react-calendars\";\nimport { TimePickerComponent } from \"@syncfusion/ej2-react-calendars\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nfunction AppointmentForm() {\n  _s();\n\n  const {\n    pickDate,\n    setPickDate,\n    api\n  } = React.useContext(Appcontext);\n  const {\n    pickTime,\n    setPickTime\n  } = React.useContext(Appcontext);\n  const {\n    serviceType,\n    setServiceType\n  } = React.useContext(Appcontext);\n  const {\n    clientName,\n    setClientName\n  } = React.useContext(Appcontext);\n  const {\n    clientPhone,\n    setClientPhone\n  } = React.useContext(Appcontext);\n  const {\n    clientEmail,\n    setClientEmail,\n    clientMsg,\n    setClientMsg\n  } = React.useContext(Appcontext);\n  const minTime = new Date('08/03/2017 10:00 AM');\n  const maxTime = new Date('8/3/2017  8:00 PM'); //  const time  = new Date('8/3/2017 8:00 PM');\n\n  let token = window.localStorage.getItem(\"auth\");\n  let userData = jwt.decode(token);\n  let history = useHistory();\n  const instance = axios.create({\n    baseURL: api,\n    headers: {\n      \"auth-token\": token\n    }\n  }); // book appointment\n\n  async function bookAppointment() {\n    try {\n      if (token && userData.exp * 1000 >= Date.now()) {\n        await instance.post(api + \"/getAppointment\", {\n          date: pickDate.toLocaleDateString(),\n          time: pickTime,\n          serviceType: serviceType,\n          clientName: clientName,\n          clientPhone: clientPhone,\n          clientMsg: clientMsg,\n          clientEmail: clientEmail\n        });\n        resetForm();\n        toast.success('Appointment Booked Successfully', {\n          position: \"top-center\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n        history.push(\"/booked_Appointments\");\n      } else {\n        history.push(\"/login\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  } // handleing changes in the form\n\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case \"clientName\":\n        setClientName(event.target.value);\n        break;\n\n      case \"clientPhone\":\n        setClientPhone(event.target.value);\n        break;\n\n      case \"clientEmail\":\n        setClientEmail(event.target.value);\n        break;\n\n      case \"clientMsg\":\n        setClientMsg(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n  } // resetting \n\n\n  function resetForm() {\n    setServiceType(\"Service Types\");\n    setClientEmail(\"\");\n    setClientMsg(\"\");\n    setClientName(\"\");\n    setPickTime(\"\");\n    setClientPhone(\"\");\n  } // handelling the submission of the form\n\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (serviceType === \"Service Types\" || clientName === \"\" || clientPhone === \"\" || clientEmail === \"\" || clientMsg === \"\") {\n      return toast.error('Enter Valid Information', {\n        position: \"top-center\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    } else {\n      bookAppointment();\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formTitle\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"c1\",\n          children: \"BOOK YOUR CAR WASH APPOINTMENT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formDetails\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"actualForm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"formName\",\n              children: \"APPOINTMENT DETAILS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formDateTime\",\n            children: /*#__PURE__*/_jsxDEV(DatePickerComponent, {\n              value: pickDate,\n              onChange: event => {\n                setPickDate(event.target.value);\n              },\n              placeholder: \"enter date\",\n              min: new Date(),\n              format: \"dd/MM/yyyy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formDateTime\",\n            children: /*#__PURE__*/_jsxDEV(TimePickerComponent, {\n              value: pickTime,\n              min: minTime,\n              max: maxTime,\n              onChange: event => {\n                setPickTime(event.target.value.toLocaleTimeString());\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"contactDetails\",\n              name: \"serviceType\",\n              value: serviceType,\n              onChange: event => {\n                setServiceType(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                className: \"opt1\",\n                children: \"Service Types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"BASIC WASH Rs.1999\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"DELUX WASH Rs.2999\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"ULTIMATE WASH Rs.3999\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"formName\",\n              children: \"CONTACT DETAILS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"contactDetails\",\n              type: \"text\",\n              name: \"clientName\",\n              value: clientName,\n              onChange: handleChange,\n              placeholder: \"Enter Your Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 85\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"contactDetails\",\n              name: \"clientPhone\",\n              value: clientPhone,\n              onChange: handleChange,\n              placeholder: \"Enter Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 76\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"contactDetails\",\n              name: \"clientEmail\",\n              value: clientEmail,\n              onChange: handleChange,\n              placeholder: \"Enter Email-Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 79\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              cols: \"30\",\n              className: \"contactDetailsTextArea\",\n              rows: \"10\",\n              type: \"text\",\n              name: \"clientMsg\",\n              value: clientMsg,\n              onChange: handleChange,\n              placeholder: \"Your Messsage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"bookBtn\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AppointmentForm, \"7PWIxcYmai8Jb6BZjVMKxG9Lljs=\", false, function () {\n  return [useHistory];\n});\n\n_c = AppointmentForm;\nexport default AppointmentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppointmentForm\");","map":{"version":3,"sources":["C:/Users/Dell/Downloads/carwash_webApp-main/frontend/src/components/appointmentForm.js"],"names":["Appcontext","axios","React","jwt","Nav","toast","DatePickerComponent","TimePickerComponent","useHistory","configure","AppointmentForm","pickDate","setPickDate","api","useContext","pickTime","setPickTime","serviceType","setServiceType","clientName","setClientName","clientPhone","setClientPhone","clientEmail","setClientEmail","clientMsg","setClientMsg","minTime","Date","maxTime","token","window","localStorage","getItem","userData","decode","history","instance","create","baseURL","headers","bookAppointment","exp","now","post","date","toLocaleDateString","time","resetForm","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","push","error","console","log","handleChange","event","target","name","value","handleSubmit","preventDefault","marginBottom","toLocaleTimeString"],"mappings":"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","sourcesContent":["\r\nimport { Appcontext } from \"./context\";\r\nimport axios from \"axios\";\r\nimport React from \"react\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport \"../css/home.css\";\r\nimport Nav from \"./nav\";\r\nimport {  toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { DatePickerComponent} from \"@syncfusion/ej2-react-calendars\";\r\nimport { TimePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\nimport { useHistory } from \"react-router\";\r\n\r\ntoast.configure()\r\n function AppointmentForm(){\r\n   \r\n     const {pickDate , setPickDate , api} = React.useContext(Appcontext)\r\n     const {pickTime , setPickTime} = React.useContext(Appcontext)\r\n     const{serviceType , setServiceType} = React.useContext(Appcontext)\r\n     const{clientName , setClientName} = React.useContext(Appcontext)\r\n     const{clientPhone , setClientPhone} = React.useContext(Appcontext)\r\n     const{clientEmail , setClientEmail , clientMsg , setClientMsg} = React.useContext(Appcontext)\r\n     const minTime  = new Date('08/03/2017 10:00 AM');\r\n     const maxTime  = new Date('8/3/2017  8:00 PM');\r\n    //  const time  = new Date('8/3/2017 8:00 PM');\r\n    let token = window.localStorage.getItem(\"auth\")\r\n    let userData = jwt.decode(token)\r\n    let history = useHistory()\r\n    const instance = axios.create({\r\n        baseURL: api , \r\n        headers:{\r\n            \"auth-token\" : token\r\n        },\r\n    })\r\n\r\n    // book appointment\r\n    async function bookAppointment(){\r\n        try{\r\n            if(token && userData.exp*1000 >= Date.now()){\r\n           await instance.post(api + \"/getAppointment\",{\r\n                date: pickDate.toLocaleDateString(),\r\n                time: pickTime,\r\n                serviceType: serviceType,\r\n                clientName: clientName,\r\n                clientPhone:clientPhone,\r\n                clientMsg:clientMsg,\r\n                clientEmail: clientEmail\r\n            })\r\n            resetForm()\r\n            toast.success('Appointment Booked Successfully', {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n            history.push(\"/booked_Appointments\")\r\n            }\r\n            else{\r\n                history.push(\"/login\")\r\n            }\r\n            \r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n// handleing changes in the form\r\n    function handleChange(event){\r\n        switch (event.target.name) {\r\n            case \"clientName\":\r\n                setClientName(event.target.value)\r\n                break;\r\n            case \"clientPhone\":\r\n                setClientPhone(event.target.value)\r\n                break;\r\n            case \"clientEmail\":\r\n                setClientEmail(event.target.value)\r\n                break;\r\n            case \"clientMsg\":\r\n                setClientMsg(event.target.value)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // resetting \r\n    function resetForm(){\r\n        setServiceType(\"Service Types\")\r\n        setClientEmail(\"\")\r\n        setClientMsg(\"\")\r\n        setClientName(\"\")\r\n        setPickTime(\"\")\r\n        setClientPhone(\"\")\r\n    }\r\n\r\n    // handelling the submission of the form\r\n    function handleSubmit(event){\r\n        event.preventDefault()\r\n        if(serviceType===\"Service Types\" || clientName===\"\" || clientPhone===\"\" ||\r\n         clientEmail===\"\" || clientMsg===\"\"){\r\n             return(toast.error('Enter Valid Information', {\r\n                position: \"top-center\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                }));\r\n         }else{\r\n            bookAppointment()\r\n         }\r\n    }\r\n     return(\r\n         <>\r\n         <Nav/>\r\n         <div className=\"formTop\">\r\n             <div className=\"formTitle\">\r\n                 <p className=\"c1\">BOOK YOUR CAR WASH APPOINTMENT</p>\r\n             </div>\r\n         </div>\r\n         <div>\r\n             <div className=\"formDetails\">\r\n                <form onSubmit={handleSubmit} className=\"actualForm\">\r\n                    <div style={{marginBottom:\"30px\"}}>\r\n                        <p className=\"formName\">APPOINTMENT DETAILS</p>\r\n                    </div>\r\n                    <div  className=\"formDateTime\">\r\n                        <DatePickerComponent\r\n                        value={pickDate}\r\n                       \r\n                        onChange={(event) => {\r\n                            setPickDate((event.target.value));\r\n                          }}\r\n                          placeholder=\"enter date\"\r\n                          min={new Date()}\r\n                          format='dd/MM/yyyy'/>\r\n                    </div>\r\n                    <div className=\"formDateTime\">\r\n                        <TimePickerComponent\r\n                            value={pickTime}\r\n                            min={minTime}\r\n                            max={maxTime}\r\n                            onChange={(event) => {\r\n                                setPickTime((event.target.value).toLocaleTimeString());\r\n                               \r\n                            }} \r\n                       />\r\n                    </div>\r\n                    <div style={{marginBottom:\"20px\"}}>\r\n                        <select className=\"contactDetails\" name=\"serviceType\" value={serviceType}  onChange={(event)=>{setServiceType(event.target.value)}}>\r\n                            <option className=\"opt1\">Service Types</option>\r\n                            <option>BASIC WASH Rs.1999</option>\r\n                            <option>DELUX WASH Rs.2999</option>\r\n                            <option>ULTIMATE WASH Rs.3999</option>\r\n                        </select>\r\n                    </div>\r\n                    <div style={{marginBottom:\"30px\"}}>\r\n                        <p className=\"formName\">CONTACT DETAILS</p>\r\n                    </div>\r\n                    <div >\r\n                        <input  className=\"contactDetails\" type=\"text\" name=\"clientName\" value={clientName} \r\n                        onChange={handleChange} placeholder=\"Enter Your Full Name\"/><br/>\r\n                        <input type=\"text\"  className=\"contactDetails\" name=\"clientPhone\" value={clientPhone} \r\n                        onChange={handleChange} placeholder=\"Enter Phone\"/><br/>\r\n                        <input type=\"email\" className=\"contactDetails\" name=\"clientEmail\" value={clientEmail} \r\n                        onChange={handleChange} placeholder=\"Enter Email-Id\"/><br/>\r\n                        <textarea cols=\"30\" className=\"contactDetailsTextArea\" rows=\"10\" type=\"text\" name=\"clientMsg\" value={clientMsg} \r\n                        onChange={handleChange} placeholder=\"Your Messsage\"/>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"bookBtn\">Submit</button>\r\n                </form>\r\n             </div>\r\n         </div>\r\n         </>\r\n     )\r\n }\r\n export default AppointmentForm;"]},"metadata":{},"sourceType":"module"}